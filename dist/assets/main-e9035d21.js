/* empty css             */(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))d(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&d(m)}).observe(document,{childList:!0,subtree:!0});function p(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function d(r){if(r.ep)return;r.ep=!0;const i=p(r);fetch(r.href,i)}})();function z(){const f=document.querySelector(".nav-toggle"),l=document.getElementById("nav-links");f&&l&&f.addEventListener("click",()=>{l.classList.toggle("active"),f.classList.toggle("active")});const p=document.getElementById("file-input"),d=document.getElementById("add-more-files-input"),r=document.getElementById("initial-view"),i=document.getElementById("file-list-view"),m=document.getElementById("file-list-container"),F=document.getElementById("file-item-template"),c=document.getElementById("convert-all-btn"),w=document.getElementById("dynamic-main-title"),x=document.getElementById("page-title"),y=document.getElementById("input-format-select"),v=document.getElementById("output-format-select"),B=document.getElementById("contact-email-placeholder");if(B){const e="myimageconverter.com",t=document.createElement("a");t.href=`mailto:support@${e}`,t.textContent=`support@${e}`,B.appendChild(t)}let u=[];const S=100*1024*1024,I={any:"ANY","image/jpeg":"JPG","image/png":"PNG","image/webp":"WEBP","image/gif":"GIF","image/bmp":"BMP"};function L(){const e=I[y.value],t=I[v.value];let n=`${e} to ${t} Converter`,o=`${e} to ${t} Converter Online & Free | Converter`;w.textContent=n,x.textContent=o}function C(e){e.length!==0&&(r.classList.add("hidden"),i.classList.remove("hidden"),Array.from(e).forEach(t=>{if(t.size>S){alert(`File "${t.name}" is too large (max 100MB).`);return}if(!t.type.startsWith("image/")){alert(`File "${t.name}" is not a valid image.`);return}const o={id:`file-${Date.now()}-${Math.random()}`,file:t,status:"ready",outputFormat:v.value};u.push(o),P(o)}))}function P(e){const n=F.content.cloneNode(!0).querySelector(".file-item");n.dataset.id=e.id,n.querySelector("[data-file-name]").textContent=e.file.name,n.querySelector("[data-file-size]").textContent=$(e.file.size);const o=n.querySelector("[data-format-select]");o.value=e.outputFormat,o.addEventListener("change",s=>{e.outputFormat=s.target.value}),n.querySelector("[data-remove-btn]").addEventListener("click",()=>{u=u.filter(s=>s.id!==e.id),n.remove(),u.length===0&&(r.classList.remove("hidden"),i.classList.add("hidden"))}),m.appendChild(n)}async function M(){c.disabled=!0,c.textContent="Converting...";const e=u.map(t=>t.status==="ready"?T(t):Promise.resolve());await Promise.all(e),c.disabled=!1,c.innerHTML='Convert <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>'}async function T(e){const t=document.querySelector(`.file-item[data-id="${e.id}"]`);t.querySelector("[data-status-container]");const n=t.querySelector("[data-file-status]"),o=t.querySelector("[data-progress-bar-container]"),a=t.querySelector("[data-download-container]");e.status="converting",n.classList.add("hidden"),o.classList.remove("hidden");try{const s=await q(e.file),E=await N(s),h=document.createElement("canvas");h.width=E.width,h.height=E.height,h.getContext("2d").drawImage(E,0,0);const A=await new Promise(U=>h.toBlob(U,e.outputFormat,.8));o.classList.add("hidden");const R=URL.createObjectURL(A),k=e.outputFormat.split("/")[1].replace("jpeg","jpg"),D=`${e.file.name.split(".").slice(0,-1).join(".")}.${k}`,g=document.createElement("a");g.href=R,g.download=D,g.textContent="DOWNLOAD",g.className="download-button",a.innerHTML="",a.appendChild(g),a.classList.remove("hidden"),e.status="done"}catch(s){console.error("Conversion error:",s),e.status="error",o.classList.add("hidden"),n.textContent="ERROR",n.className="file-status error",n.classList.remove("hidden")}}function $(e,t=1){if(e===0)return"0 Bytes";const n=1024,o=t<0?0:t,a=["Bytes","KB","MB","GB","TB"],s=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,s)).toFixed(o))+" "+a[s]}function q(e){return new Promise((t,n)=>{const o=new FileReader;o.onload=a=>t(a.target.result),o.onerror=a=>n(a),o.readAsDataURL(e)})}function N(e){return new Promise((t,n)=>{const o=new Image;o.onload=()=>t(o),o.onerror=a=>n(a),o.src=e})}p&&p.addEventListener("change",e=>C(e.target.files)),d&&d.addEventListener("change",e=>C(e.target.files)),c&&c.addEventListener("click",M),y&&y.addEventListener("change",L),v&&v.addEventListener("change",L),w&&L()}document.addEventListener("DOMContentLoaded",z);
